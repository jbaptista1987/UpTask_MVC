document.querySelector("#btnActUsuario").addEventListener("click",e=>{e.preventDefault();let o=[],t=document.querySelector("#Nombre").value.trim(),r=document.querySelector("#Correo").value.trim(),a=document.getElementById("ImagenPerfil").files[0];if(""===t&&(o[o.length]="* El Nombre es Obligatorio"),""!==r&&validarEmail(r)||(o[o.length]="* Un Correo Valido es Obligatorio"),a&&a.type.startsWith("image/")||(o[o.length]="* Una Imagen de Perfil es Obligatoria"),o.length>0)for(let e of o)mostrarVariasAlertas(e,"error",document.querySelector("#mensaje"));else!async function(e,o,t){const r=new FormData;r.append("Nombre",e),r.append("Correo",o),r.append("ImagenPerfil",t);try{const e=await fetch("http://localhost:3000/perfil",{method:"POST",body:r});let o=await e.json();if(console.log(o),"error"===o.Tipo)return void mostrarAlerta(o.Mensaje,o.Tipo,document.querySelector("#mensaje"));"msjExito"===o.Tipo&&(alert("Perfil Actualizado"),window.location.href="/panelprincipal")}catch(e){console.log(e)}}(t,r,a)});